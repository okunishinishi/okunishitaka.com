/**
 * Singleton data source for {{name}}.
 * @requires angular
 * @requires apeman
 */
(function (ng, ap) {
    "use strict";

    ng
        .module('ok.datasources')
        .factory('{{Name}}SingletonDatasource', function (SingletonDatasource, {{Name}}Entity, {{name}}ApiService) {
            return SingletonDatasource.define(
                /** @lends {{Name}}SingletonDatasource.prototype */
                {
{{#if singleton}}                    _singletonRequest: function (callback) {
                        {{name}}ApiService.singleton(callback);
                    },
{{/if}}{{#if save}}                    _saveRequest: function (data, callback) {
                        {{name}}ApiService.save(data, callback);
                    },
{{/if}}                    _parseData: function (data) {
                        return {{Name}}Entity.new(data);
                    }
                }
            );
        });
})(angular, apeman);